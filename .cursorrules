# ASCII Frog Project - AI Assistant Rules
## :warning: CRITICAL RULES - MANDATORY COMPLIANCE :warning:

### ðŸš€ DEPLOYMENT RULES - ALWAYS APPLY
**When asked to deploy, release, or work with images:**

1. **ALWAYS assume Kubernetes deployment** - NO EXCEPTIONS
2. **ALWAYS assume JFrog Fly registry** - NEVER other registries/products
3. **REQUIRED MCP tools for deployment:**
   - `how_to_create_fly_image_pull_secret` - for K8s image pull secrets
   - `how_to_deploy_to_k8s_with_fly` - for K8s deployment with JFrog Fly
   - `how_to_get_releases_info_from_fly` - for release information

4. **Production deployment behavior:**
   - When user mentions "prod", "production", or similar terms
   - DO NOT search for production-specific configurations
   - USE current workspace context and available K8s configs
   - APPLY current namespace unless explicitly told otherwise
   - NEVER assume different clusters - stick to current context

5. **Deployment parameters:**
   - **Cluster**: Derived from KUBECONFIG_FILE in environment.conf (removes file extension)
   - **Namespace**: `default` (unless explicitly specified otherwise)
   - **Image Registry**: `froggen.jfrog.io/docker/`
   - **Existing Deployment**: `ascii-frog-app` (update this, don't create new)
   - **Image Pull Secret**: `fly-registry-secret` (already configured)
   - **Service**: `ascii-frog-app-service` (NodePort 8000:30080)

### ðŸ”’ GIT SAFETY RULES - ALWAYS APPLY

6. **NEVER push directly to main branch**
   - ALWAYS warn user about main branch pushes
   - ONLY proceed if user explicitly forces and confirms
   - Suggest creating feature branches instead

7. **Version control safety:**
   - Always check current branch before git operations
   - Warn about uncommitted changes
   - Confirm destructive git operations

7.5 **Commit Message Guidelines:**
   - Write comprehensive commit messages that can serve as PR titles and descriptions
   - **Format:** First line = PR title (concise, <50 chars), subsequent lines = detailed description
   - Focus on user-facing benefits and business value
   - Include: what changed, why it changed, and any important considerations
   - Use present tense and start with action verb
   - **Template:**
     ```
     Added random color styling to frog names

     - Enhanced visual appeal of frog names in terminal display
     - Implemented random color selection from predefined palette
     - Updated TerminalManager.displayFrogName() method
     - Maintains backward compatibility with existing color schemes
     - Tested across different terminal environments
     ```

   - **Examples:**
     ```
     Implemented keyboard shortcuts for terminal navigation

     - Added arrow key navigation for ASCII art gallery
     - Introduced 'h' key for help menu display
     - Enhanced user experience with intuitive controls
     - Keyboard shortcuts work in both light and dark themes
     - Follows accessibility guidelines for keyboard navigation
     ```

     ```
     Enhanced error handling for network timeouts

     - Added retry logic with exponential backoff for API calls
     - Implemented user-friendly error messages for timeout scenarios
     - Graceful degradation when network connectivity is lost
     - Prevents application crashes during network interruptions
     - Added comprehensive logging for debugging network issues
     ```

### ðŸ“¦ RELEASE MANAGEMENT - ALWAYS APPLY

8. **Release information sources:**
   - ONLY use `how_to_get_releases_info_from_fly` for release data
   - NEVER check npm, docker hub, or other registries first
   - JFrog Fly is the SINGLE SOURCE OF TRUTH

9. **Release workflow:**
   - Follow the GitHub Actions workflow in `.github/workflows/release.yml`
   - Respect the automated version bumping process
   - Don't manually interfere with CI/CD processes

### ðŸ› ï¸ MCP TOOL BEHAVIOR

10. **Tool selection priority:**
    - ALWAYS prefer JFrog Fly MCP tools over generic tools
    - Use project-specific tools before general-purpose ones
    - When in doubt, use Fly-specific implementations

11. **Context awareness:**
    - **Kubectl config**: Use `~/.kube/fly-k8s-testing.conf` (configurable via KUBECONFIG_FILE in environment.conf)
    - **Target existing deployment**: `ascii-frog-app` in `default` namespace
    - **Registry**: `froggen.jfrog.io/docker/`
    - **No manifest creation needed** - deployment already exists
    - Apply updates to existing resources, don't create new ones

### ðŸ§  AI BEHAVIOR RULES

12. **Information gathering:**
    - Read cursor rules BEFORE using MCP tools
    - Apply rules consistently across all tool interactions
    - Don't override rules based on tool-specific logic

13. **User interaction:**
    - Explain which rules are being applied when making decisions
    - Warn when user requests conflict with safety rules
    - Provide alternatives that comply with project rules

15. **Environment handling:**
    - Cluster context derived from KUBECONFIG_FILE in environment.conf
    - **NEVER search for separate prod configs** - everything is in `default` namespace
    - Current deployment already exists: UPDATE, don't create new

---
## :rotating_light: COMPLIANCE IS MANDATORY :rotating_light:
**Failure to follow these rules is unacceptable and breaks project workflows**
