(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();function a(s){const e=["crimson","royalblue","forestgreen","gold","mediumpurple","hotpink","darkorange","teal","coral","limegreen"],t=e[Math.random()*e.length|0],i=document.createElement("span");return i.style.color=t,i.textContent=s,i}class c{constructor(e){this.container=e,this.config=null,this.initialize()}initialize(){this.container.innerHTML="",this.container.style.cssText=`
            background: #0d1117;
            color: #e6edf3;
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            padding: 20px;
            overflow-y: auto;
            white-space: pre-wrap;
            line-height: 1.4;
            text-align: left;
        `,this.showWelcome()}updateConfig(e){this.config=e}showWelcome(){const e=this.config?.messages?.welcome||"ðŸ¸  Welcome to ascii-frog Terminal!",t=this.config?.messages?.prompt||"frog@terminal:~$ ";this.writeln(e),this.writeln(""),this.writeln(t),this.writeln("")}displayCompleteFrog(e,t){this.clear(),this.showWelcome(),this.displayAscii(e),this.writeln(""),this.displayFrogName(t)}displayAscii(e){e.split(`
`).filter(i=>i.trim()!=="").forEach(i=>{this.writeCenter(i)})}displayFrogName(e){this.writeCenter(a(e))}centerText(e){const t=this.container.clientWidth,o=Math.floor(t/8.4),r=e.length,n=Math.max(0,Math.floor((o-r)/2));return" ".repeat(n)+e}writeln(e){const t=document.createElement("div");return typeof e=="string"?t.textContent=e||" ":t.appendChild(e),this.container.appendChild(t),t}writeCenter(e){const t=document.createElement("div");return t.style.textAlign="center",typeof e=="string"?t.textContent=e:t.appendChild(e),this.container.appendChild(t),t}clear(){this.container.innerHTML=""}reset(){}}class l{constructor(){this.initializeElements(),this.initializeTerminal(),this.bindEvents(),this.loadInitialData(),this.currentAscii=""}initializeElements(){this.frogSelect=document.getElementById("template-select"),this.randomBtn=document.getElementById("random-btn"),this.copyBtn=document.getElementById("copy-btn"),this.terminalContainer=document.getElementById("terminal")}initializeTerminal(){this.terminalManager=new c(this.terminalContainer)}bindEvents(){this.randomBtn.addEventListener("click",()=>this.generateRandomFrog()),this.copyBtn.addEventListener("click",()=>this.copyToClipboard()),this.frogSelect.addEventListener("change",()=>this.generateFrog())}async loadInitialData(){try{const[e,t]=await Promise.all([fetch("/api/frogs"),fetch("/api/terminal-config")]);if(e.ok){const i=await e.json();this.populateFrogSelect(i.frogs)}if(t.ok){const i=await t.json();this.terminalConfig=i.config,this.terminalManager.updateConfig(this.terminalConfig)}}catch(e){console.error("Error loading initial data:",e)}}populateFrogSelect(e){this.frogSelect.innerHTML="",e.forEach(t=>{const i=document.createElement("option");i.value=t.id,i.textContent=t.name,t.id==="classic"&&(i.selected=!0),this.frogSelect.appendChild(i)})}async generateFrog(){const e=this.frogSelect.value;try{const i=await(await fetch("/api/generate-frog",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({frog:e})})).json();if(i.success)this.displayAscii(i.ascii,i.frogName),this.copyBtn.disabled=!1,console.log(`ðŸ¤– AI Generated ${i.frogName} frog!`);else throw new Error(i.error||"Failed to generate frog")}catch(t){console.error("Error generating AI frog:",t)}}async generateRandomFrog(){try{const t=await(await fetch("/api/random-frog")).json();if(t.success)this.displayAscii(t.ascii,t.frogName),this.copyBtn.disabled=!1,console.log(`ðŸŽ² AI Generated random frog: ${t.frogName}!`);else throw new Error(t.error||"Failed to generate random frog")}catch(e){console.error("Error generating random AI frog: ",e)}}displayAscii(e,t){this.currentAscii=e,this.currentFrogName=t,this.terminalManager.displayCompleteFrog(e,t)}async copyToClipboard(){if(!this.currentAscii){console.warn("No ASCII art to copy!");return}try{const t=await(await fetch("/api/format-clipboard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ascii:this.currentAscii,frogName:this.currentFrogName})})).json();if(t.success)await navigator.clipboard.writeText(t.formattedText),console.log("ðŸ“‹ AI-generated ASCII frog copied to clipboard!");else throw new Error(t.error||"Failed to format clipboard text")}catch(e){console.error("Error copying to clipboard:",e)}}showToast(e,t="success"){this.toastMessage.textContent=e,this.toast.classList.remove("success","error"),this.toast.classList.add(t),this.toast.classList.add("show"),setTimeout(()=>{this.toast.classList.remove("show")},3e3)}}document.addEventListener("DOMContentLoaded",()=>{new l});
